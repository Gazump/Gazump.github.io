var D=Object.defineProperty;var I=(o,e,t)=>e in o?D(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var l=(o,e,t)=>(I(o,typeof e!="symbol"?e+"":e,t),t);import{s as P,n as m}from"./scheduler.Cec-JE-B.js";import{S as x,i as G,B as d,C as g,d as f,g as c,p as a,j as p,k as C,u as _}from"./index.DK1wgYc_.js";function w(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}class k{constructor(e=5){l(this,"gameIndex",-1);l(this,"code",[]);l(this,"randomCode",[]);l(this,"codeLength");this.codeLength=e,this.generateCode(),this.calculateGameIndex()}getDate(){const e=new Date,t=new Date(e);return t.setDate(e.getDate()),t}generateCode(){const e=this.getDate(),t=parseInt(e.toISOString().split("T")[0].replace(/-/g,""),10),r=this.lcg(t);this.code=Array.from({length:5},()=>Math.floor(r()*10)),this.randomCode=Array.from({length:this.codeLength},()=>Math.floor(Math.random()*10))}calculateGameIndex(){const e=new Date("2024-05-20"),r=this.getDate().getTime()-e.getTime(),s=Math.floor(r/(1e3*3600*24));this.gameIndex=s}getGameIndex(){return this.gameIndex}getCode(){return this.code}getRandomCode(){return this.randomCode}checkGuess(e,t=!1){if(e.length!==this.codeLength)throw new Error("Guess length does not match code length");return e.map((r,s)=>{const n=Math.abs(r-(t?this.randomCode[s]:this.code[s]));return n===0?"green":n===1?"yellow":n===2?"orange":"gray"})}lcg(e){return()=>(e=(e*1664525+1013904223)%4294967296,e/4294967296)}}function v(o,e,t){const r=o.slice();return r[2]=e[t],r[4]=t,r}function y(o){let e,t,r,s;return{c(){e=d("g"),t=d("rect"),this.h()},l(n){e=g(n,"g",{transform:!0});var h=f(e);t=g(h,"rect",{y:!0,width:!0,height:!0,fill:!0,class:!0}),f(t).forEach(c),h.forEach(c),this.h()},h(){a(t,"y",r=100-o[2]),a(t,"width","20"),a(t,"height","50"),a(t,"fill",s=o[1][o[4]]),a(t,"class","svelte-1aegubf"),a(e,"transform","translate("+(56+o[4]*25)+", 60)")},m(n,h){p(n,e,h),C(e,t)},p(n,h){h&1&&r!==(r=100-n[2])&&a(t,"y",r),h&2&&s!==(s=n[1][n[4]])&&a(t,"fill",s)},d(n){n&&c(e)}}}function b(o){let e,t,r=w(o[0]),s=[];for(let n=0;n<r.length;n+=1)s[n]=y(v(o,r,n));return{c(){e=d("svg"),t=d("rect");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=g(n,"svg",{viewBox:!0,width:!0,height:!0});var h=f(e);t=g(h,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),f(t).forEach(c);for(let i=0;i<s.length;i+=1)s[i].l(h);h.forEach(c),this.h()},h(){a(t,"x","50"),a(t,"y","50"),a(t,"width","132"),a(t,"height","158"),a(t,"fill","#ccc"),a(t,"stroke","#000"),a(t,"stroke-width","2"),a(t,"class","svelte-1aegubf"),a(e,"viewBox","0 0 232 300"),a(e,"width","264"),a(e,"height","300")},m(n,h){p(n,e,h),C(e,t);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(n,[h]){if(h&3){r=w(n[0]);let i;for(i=0;i<r.length;i+=1){const u=v(n,r,i);s[i]?s[i].p(u,h):(s[i]=y(u),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=r.length}},i:m,o:m,d(n){n&&c(e),_(s,n)}}}function L(o,e,t){let{pinPositions:r=[0,0,0,0,0]}=e,{correctPositions:s=["","","","",""]}=e;return o.$$set=n=>{"pinPositions"in n&&t(0,r=n.pinPositions),"correctPositions"in n&&t(1,s=n.correctPositions)},[r,s]}class A extends x{constructor(e){super(),G(this,e,L,b,P,{pinPositions:0,correctPositions:1})}}export{k as G,A as L,w as e};
