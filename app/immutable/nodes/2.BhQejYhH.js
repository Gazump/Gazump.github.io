var ae=Object.defineProperty;var he=(o,e,t)=>e in o?ae(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var R=(o,e,t)=>(he(o,typeof e!="symbol"?e+"":e,t),t);import{s as ne,n as j,o as ue,r as se,e as fe}from"../chunks/scheduler.BvLojk_z.js";import{S as ie,i as oe,y as z,z as A,d as T,g as v,o as g,j as V,k as P,A as N,e as E,s as G,u as ge,c as I,B as O,h as M,v as de,w as _e,t as pe,a as me,x as ve,C as H,b as re,f as ce,p as U,l as ke}from"../chunks/index.BVbBP3S1.js";function S(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}class be{constructor(e=5){R(this,"code",[]);R(this,"codeLength");this.codeLength=e,this.generateCode()}generateCode(){this.code=[1,2,3,4,5]}getCode(){return this.code}checkGuess(e){if(e.length!==this.codeLength)throw new Error("Guess length does not match code length");return e.map((t,s)=>{const l=Math.abs(t-this.code[s]);return l===0?"green":l===1?"yellow":l===2?"orange":l===3?"red":"gray"})}}function q(o,e,t){const s=o.slice();return s[2]=e[t],s[4]=t,s}function F(o){let e,t,s,l;return{c(){e=z("g"),t=z("rect"),this.h()},l(n){e=A(n,"g",{transform:!0});var i=T(e);t=A(i,"rect",{y:!0,width:!0,height:!0,fill:!0,class:!0}),T(t).forEach(v),i.forEach(v),this.h()},h(){g(t,"y",s=100-o[2]),g(t,"width","20"),g(t,"height","50"),g(t,"fill",l=o[1][o[4]]),g(t,"class","svelte-1aegubf"),g(e,"transform","translate("+(56+o[4]*25)+", 60)")},m(n,i){V(n,e,i),P(e,t)},p(n,i){i&1&&s!==(s=100-n[2])&&g(t,"y",s),i&2&&l!==(l=n[1][n[4]])&&g(t,"fill",l)},d(n){n&&v(e)}}}function we(o){let e,t,s=S(o[0]),l=[];for(let n=0;n<s.length;n+=1)l[n]=F(q(o,s,n));return{c(){e=z("svg"),t=z("rect");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=A(n,"svg",{viewBox:!0,width:!0,height:!0});var i=T(e);t=A(i,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),T(t).forEach(v);for(let r=0;r<l.length;r+=1)l[r].l(i);i.forEach(v),this.h()},h(){g(t,"x","50"),g(t,"y","50"),g(t,"width","132"),g(t,"height","158"),g(t,"fill","#ccc"),g(t,"stroke","#000"),g(t,"stroke-width","2"),g(t,"class","svelte-1aegubf"),g(e,"viewBox","0 0 232 300"),g(e,"width","264"),g(e,"height","300")},m(n,i){V(n,e,i),P(e,t);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(n,[i]){if(i&3){s=S(n[0]);let r;for(r=0;r<s.length;r+=1){const h=q(n,s,r);l[r]?l[r].p(h,i):(l[r]=F(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},i:j,o:j,d(n){n&&v(e),N(l,n)}}}function Ce(o,e,t){let{pinPositions:s=[0,0,0,0,0]}=e,{correctPositions:l=["","","","",""]}=e;return o.$$set=n=>{"pinPositions"in n&&t(0,s=n.pinPositions),"correctPositions"in n&&t(1,l=n.correctPositions)},[s,l]}class Pe extends ie{constructor(e){super(),oe(this,e,Ce,we,ne,{pinPositions:0,correctPositions:1})}}function K(o,e,t){const s=o.slice();return s[18]=e[t],s}function W(o,e,t){const s=o.slice();return s[18]=e[t],s[21]=e,s[22]=t,s}function Y(o,e,t){const s=o.slice();return s[23]=e[t],s}function J(o,e,t){const s=o.slice();return s[26]=e[t],s[22]=t,s}function Q(o){let e,t=o[23].guess[o[22]]+"",s;return{c(){e=E("div"),s=re(t),this.h()},l(l){e=I(l,"DIV",{class:!0,style:!0});var n=T(e);s=ce(n,t),n.forEach(v),this.h()},h(){g(e,"class","feedback-cell svelte-19ta4u6"),U(e,"background-color",o[26])},m(l,n){V(l,e,n),P(e,s)},p(l,n){n&2&&t!==(t=l[23].guess[l[22]]+"")&&ke(s,t),n&2&&U(e,"background-color",l[26])},d(l){l&&v(e)}}}function X(o){let e,t,s=S(o[23].colors),l=[];for(let n=0;n<s.length;n+=1)l[n]=Q(J(o,s,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();t=G(),this.h()},l(n){e=I(n,"DIV",{class:!0});var i=T(e);for(let r=0;r<l.length;r+=1)l[r].l(i);t=M(i),i.forEach(v),this.h()},h(){g(e,"class","feedback-row svelte-19ta4u6")},m(n,i){V(n,e,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);P(e,t)},p(n,i){if(i&2){s=S(n[23].colors);let r;for(r=0;r<s.length;r+=1){const h=J(n,s,r);l[r]?l[r].p(h,i):(l[r]=Q(h),l[r].c(),l[r].m(e,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(n){n&&v(e),N(l,n)}}}function Z(o){let e,t='<p>You picked the lock!</p> <button class="share-button svelte-19ta4u6">Share</button>';return{c(){e=E("div"),e.innerHTML=t,this.h()},l(s){e=I(s,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-146nxz"&&(e.innerHTML=t),this.h()},h(){g(e,"class","win-message svelte-19ta4u6")},m(s,l){V(s,e,l)},d(s){s&&v(e)}}}function x(o){let e,t=S(o[0]),s=[];for(let l=0;l<t.length;l+=1)s[l]=$(W(o,t,l));return{c(){e=E("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=I(l,"DIV",{class:!0});var n=T(e);for(let i=0;i<s.length;i+=1)s[i].l(n);n.forEach(v),this.h()},h(){g(e,"class","guess-container svelte-19ta4u6")},m(l,n){V(l,e,n);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(l,n){if(n&197){t=S(l[0]);let i;for(i=0;i<t.length;i+=1){const r=W(l,t,i);s[i]?s[i].p(r,n):(s[i]=$(r),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(l){l&&v(e),N(s,l)}}}function $(o){let e,t,s=o[22],l,n;const i=()=>o[12](e,s),r=()=>o[12](null,s);function h(...d){return o[13](o[22],...d)}function y(...d){return o[14](o[22],...d)}return{c(){e=E("input"),this.h()},l(d){e=I(d,"INPUT",{type:!0,maxlength:!0,class:!0}),this.h()},h(){g(e,"type","text"),g(e,"maxlength","1"),e.value=t=o[18]!==-1?o[18]:"",g(e,"class","svelte-19ta4u6")},m(d,_){V(d,e,_),i(),l||(n=[H(e,"input",h),H(e,"keydown",y)],l=!0)},p(d,_){o=d,_&1&&t!==(t=o[18]!==-1?o[18]:"")&&e.value!==t&&(e.value=t),s!==o[22]&&(r(),s=o[22],i())},d(d){d&&v(e),r(),l=!1,se(n)}}}function ee(o){let e,t,s="Enter",l,n,i,r='<svg fill="#000000" height="35px" width="26px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g><g><g><path d="M490.667,64H133.077c-7.196,0-13.906,3.627-17.848,9.647L3.485,244.314c-4.647,7.098-4.647,16.274,0,23.372 l111.744,170.667c3.942,6.02,10.652,9.647,17.848,9.647h357.589c11.782,0,21.333-9.551,21.333-21.333V85.333 C512,73.551,502.449,64,490.667,64z M469.333,405.333H144.609L46.833,256l97.776-149.333h324.725V405.333z"></path><path d="M198.246,356.418c8.331,8.331,21.839,8.331,30.17,0l70.248-70.248l70.248,70.248c8.331,8.331,21.839,8.331,30.17,0 s8.331-21.839,0-30.17L328.834,256l70.248-70.248c8.331-8.331,8.331-21.839,0-30.17s-21.839-8.331-30.17,0l-70.248,70.248 l-70.248-70.248c-8.331-8.331-21.839-8.331-30.17,0c-8.331,8.331-8.331,21.839,0,30.17L268.495,256l-70.248,70.248 C189.915,334.58,189.915,348.087,198.246,356.418z"></path></g></g></g></g></svg>',h,y,d=S(Array.from({length:10}).map(le)),_=[];for(let p=0;p<d.length;p+=1)_[p]=te(K(o,d,p));return{c(){e=E("footer"),t=E("button"),t.textContent=s,l=G();for(let p=0;p<_.length;p+=1)_[p].c();n=G(),i=E("button"),i.innerHTML=r,this.h()},l(p){e=I(p,"FOOTER",{class:!0});var k=T(e);t=I(k,"BUTTON",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-jiris3"&&(t.textContent=s),l=M(k);for(let a=0;a<_.length;a+=1)_[a].l(k);n=M(k),i=I(k,"BUTTON",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1pvk8ya"&&(i.innerHTML=r),k.forEach(v),this.h()},h(){g(t,"class","svelte-19ta4u6"),g(i,"class","svelte-19ta4u6"),g(e,"class","buttons svelte-19ta4u6")},m(p,k){V(p,e,k),P(e,t),P(e,l);for(let a=0;a<_.length;a+=1)_[a]&&_[a].m(e,null);P(e,n),P(e,i),h||(y=[H(t,"click",o[8]),H(i,"click",o[9])],h=!0)},p(p,k){if(k&5){d=S(Array.from({length:10}).map(le));let a;for(a=0;a<d.length;a+=1){const b=K(p,d,a);_[a]?_[a].p(b,k):(_[a]=te(b),_[a].c(),_[a].m(e,n))}for(;a<_.length;a+=1)_[a].d(1);_.length=d.length}},d(p){p&&v(e),N(_,p),h=!1,se(y)}}}function te(o){let e,t=o[18]+"",s,l,n;function i(){return o[15](o[18])}return{c(){e=E("button"),s=re(t),this.h()},l(r){e=I(r,"BUTTON",{class:!0});var h=T(e);s=ce(h,t),h.forEach(v),this.h()},h(){g(e,"class","svelte-19ta4u6")},m(r,h){V(r,e,h),P(e,s),l||(n=H(e,"click",i),l=!0)},p(r,h){o=r},d(r){r&&v(e),l=!1,n()}}}function ye(o){let e,t,s="Safecracker Game",l,n,i,r,h,y,d,_,p,k=S(o[1]),a=[];for(let f=0;f<k.length;f+=1)a[f]=X(Y(o,k,f));let b=o[3]&&Z(),w=!o[3]&&x(o);d=new Pe({props:{pinPositions:o[4],correctPositions:o[5]}});let C=!o[3]&&ee(o);return{c(){e=E("main"),t=E("h1"),t.textContent=s,l=G(),n=E("div");for(let f=0;f<a.length;f+=1)a[f].c();i=G(),b&&b.c(),r=G(),w&&w.c(),h=G(),y=E("div"),ge(d.$$.fragment),_=G(),C&&C.c(),this.h()},l(f){e=I(f,"MAIN",{});var m=T(e);t=I(m,"H1",{"data-svelte-h":!0}),O(t)!=="svelte-1acj94"&&(t.textContent=s),l=M(m),n=I(m,"DIV",{class:!0});var L=T(n);for(let u=0;u<a.length;u+=1)a[u].l(L);L.forEach(v),i=M(m),b&&b.l(m),r=M(m),w&&w.l(m),h=M(m),y=I(m,"DIV",{class:!0});var c=T(y);de(d.$$.fragment,c),c.forEach(v),_=M(m),C&&C.l(m),m.forEach(v),this.h()},h(){g(n,"class","feedback-container svelte-19ta4u6"),g(y,"class","feedback-lock-container svelte-19ta4u6")},m(f,m){V(f,e,m),P(e,t),P(e,l),P(e,n);for(let L=0;L<a.length;L+=1)a[L]&&a[L].m(n,null);P(e,i),b&&b.m(e,null),P(e,r),w&&w.m(e,null),P(e,h),P(e,y),_e(d,y,null),P(e,_),C&&C.m(e,null),p=!0},p(f,[m]){if(m&2){k=S(f[1]);let c;for(c=0;c<k.length;c+=1){const u=Y(f,k,c);a[c]?a[c].p(u,m):(a[c]=X(u),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=k.length}f[3]?b||(b=Z(),b.c(),b.m(e,r)):b&&(b.d(1),b=null),f[3]?w&&(w.d(1),w=null):w?w.p(f,m):(w=x(f),w.c(),w.m(e,h));const L={};m&16&&(L.pinPositions=f[4]),m&32&&(L.correctPositions=f[5]),d.$set(L),f[3]?C&&(C.d(1),C=null):C?C.p(f,m):(C=ee(f),C.c(),C.m(e,null))},i(f){p||(pe(d.$$.fragment,f),p=!0)},o(f){me(d.$$.fragment,f),p=!1},d(f){f&&v(e),N(a,f),b&&b.d(),w&&w.d(),ve(d),C&&C.d()}}}const le=(o,e)=>e;function Ee(o,e,t){const l="always";let n,i=[-1,-1,-1,-1,-1],r=[],h=[],y=!1,d=[0,0,0,0,0],_=["","","","",""];ue(()=>{n=new be,h[0].focus()});function p(c,u){const B=c.target,D=parseInt(B.value);!isNaN(D)&&D>=0&&D<=9?(t(0,i[u]=D,i),u<3&&h[u+1].focus()):B.value=""}function k(c,u){c.key==="Enter"?a():c.key==="Backspace"&&(u>0?h[u-1].focus():(t(0,i[u]=-1,i),t(2,h[u].value="",h),h[u].focus()))}function a(){if(i.every(c=>c!==-1)){const c=n.checkGuess(i);t(1,r=[...r,{guess:[...i],colors:c}]),b(c),c.every(u=>u==="green")?t(3,y=!0):(t(0,i=[-1,-1,-1,-1,-1]),h[0].focus())}}function b(c){t(4,d=i.map((u,B)=>(10-u)*10)),t(5,_=c.map(u=>u))}function w(){const c=i.length-1-i.slice().reverse().findIndex(u=>u!==-1);c>=0&&c<i.length&&(t(0,i[c]=-1,i),t(2,h[c].value="",h),h[c].focus())}function C(c,u){fe[c?"unshift":"push"](()=>{h[u]=c,t(2,h)})}return[i,r,h,y,d,_,p,k,a,w,!0,l,C,(c,u)=>p(u,c),(c,u)=>k(u,c),c=>{const u=i.findIndex(B=>B===-1);u!==-1&&(t(0,i[u]=c,i),t(2,h[u].value=c.toString(),h),u<3&&h[u+1].focus())}]}class Se extends ie{constructor(e){super(),oe(this,e,Ee,ye,ne,{prerender:10,trailingSlash:11})}get prerender(){return this.$$.ctx[10]}get trailingSlash(){return this.$$.ctx[11]}}export{Se as component};
